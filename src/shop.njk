---
layout: layout.njk
title: E-shop
---

<section class="container">
  <h2>Naše produkty</h2>
  <div class="grid">
    {% for product in products %}
      <div class="card cols-2">
        <img src="{{ product.img }}" alt="{{ product.name }}">
        <h3>{{ product.name }}</h3>
        <p><strong>{{ product.price | round(2) }} €</strong></p>
        {% if product.stock > 0 %}
          <button class="btn" onclick="addToCart('{{ product.id }}')">Objednať</button>
        {% else %}
          <span style="color:#999">Vypredané</span>
        {% endif %}
      </div>
    {% endfor %}
  </div>
</section>

<script>
const cart = JSON.parse(localStorage.getItem('cart') || '[]');
function addToCart(id){
  const p = {{ products | safe }}.find(x => x.id === id);
  cart.push(p);
  localStorage.setItem('cart', JSON.stringify(cart));
  alert(`${p.name} bol pridaný do košíka`);
}
</script>
