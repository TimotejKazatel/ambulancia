<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ title or "Detská ambulancia MUDr. Nováková" }}</title>
  <meta name="description" content="{{ description or 'Pediatrická ambulancia. Kontakt, ordinačné hodiny, blog, videá a e-shop s bylinkami.' }}">
  <meta name="theme-color" content="#3b82f6">

  <!-- Externé CSS (musí existovať súbor /styles/main.css) -->
  <link rel="stylesheet" href="/styles/main.css">

  <!-- Vnútorné štýly (základ dizajnu – nechaj!) -->
  <style>
    :root{--bg:#fafafa;--text:#111317;--muted:#5b616e;--accent:#3b82f6;--line:#e6e8ee;--card:#fff;--radius:18px;--shadow:0 10px 30px rgba(17,19,23,.08)}
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    a{text-decoration:none;color:inherit}
    img{max-width:100%;display:block}
    .container{max-width:1120px;margin:0 auto;padding:0 16px}
    header{position:sticky;top:0;background:rgba(250,250,250,.9);backdrop-filter:saturate(180%) blur(10px);border-bottom:1px solid var(--line);z-index:30}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:12px 0;gap:12px}
    .brand{display:flex;gap:12px;align-items:center}
    .brand-logo{width:38px;height:38px;border-radius:12px;background:linear-gradient(135deg,#c7d2fe,#e0e7ff);display:grid;place-items:center;font-weight:700;box-shadow:var(--shadow)}
    nav a{padding:8px 10px;border-radius:10px}
    nav a:hover{background:#eef2ff}
    main section{padding:42px 0;border-top:1px solid var(--line)}
    h2{font-size:clamp(26px,4.5vw,40px)}
    h3{font-size:clamp(22px,3.5vw,32px)}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:22px}
    .cols-2{grid-column:span 12}
    @media(min-width:900px){.cols-2{grid-column:span 6}}
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow)}
    footer{padding:30px 0;border-top:1px solid var(--line);color:#4b5563}
    .small{font-size:13px;color:#6b7280}
    .btn{background:var(--accent);color:#fff;padding:12px 18px;border-radius:12px;font-weight:700;display:inline-block}
    /* Mobilné menu panel */
    @media (max-width:900px){
      nav#siteNav{
        position:absolute; right:16px; top:64px; background:#fff;
        border:1px solid var(--line); border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.06);
        padding:10px; width:min(88vw,340px); display:none; flex-direction:column; gap:8px;
      }
      nav#siteNav a{display:block}
    }
  </style>
</head>
<body>

  <header>
    <div class="container nav">
      <div class="brand">
        <div class="brand-logo">DN</div>
        <strong>Detská ambulancia MUDr. Nováková</strong>
      </div>

      <!-- Tlačidlo mobilného menu -->
      <button id="navToggle" aria-label="Menu" aria-expanded="false" aria-controls="siteNav"
        style="display:none;border:1px solid var(--line);background:#fff;padding:8px 10px;border-radius:10px">
        ☰
      </button>

      <nav id="siteNav">
        <a href="/">Domov</a>
        <a href="/o-nas/">O nás</a>
        <a href="/sluzby/">Služby</a>
        <a href="/kontakt/">Kontakt</a>
        <a href="/galeria/">Galéria</a>
        <a href="/blog/">Blog</a>
        <a href="/shop/">E-shop</a>
      </nav>
    </div>
  </header>

  <main>
    {{ content | safe }}
  </main>

  <footer>
    <div class="container">
      <p class="small">© <span id="year"></span> Detská ambulancia MUDr. Nováková</p>
    </div>
    <script>
      // rok vo footeri
      document.getElementById('year').textContent = new Date().getFullYear();

      // jednoduché prepínanie mobilného menu
      const btn = document.getElementById('navToggle');
      const nav = document.getElementById('siteNav');
      const mq = window.matchMedia('(max-width: 900px)');
      function applyNavMode(){
        if(mq.matches){
          btn.style.display = 'inline-block';
          nav.style.display = 'none';
          btn.setAttribute('aria-expanded','false');
        }else{
          btn.style.display = 'none';
          nav.style.display = 'flex';
        }
      }
      btn?.addEventListener('click', ()=>{
        const opened = nav.style.display === 'block';
        nav.style.display = opened ? 'none' : 'block';
        btn.setAttribute('aria-expanded', String(!opened));
      });
      applyNavMode();
      mq.addEventListener('change', applyNavMode);
    </script>
  </footer>

</body>
</html>
